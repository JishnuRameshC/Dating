{% extends 'shared/base.html' %}
{% load static %}

{% block navbar %}
{% include 'shared/nav_bar.html' %}
{% endblock navbar %}

{% block content %}

<head>
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
</head>

<header class="header-icon-filter">
    <!-- Left Arrow Button -->
    <button class="icon-button">
        <i class="bi bi-arrow-left icon"></i>
    </button>

    <h3>Viewed my Profile</h3>

    <!-- Filter Button -->
    <button class="icon-button">
        <i class="bi bi-funnel icon"></i>
    </button>
</header>

<!-- Profile views text -->
<div class="profile-view-numbers">{{ profile_view_count }} new profile views</div>


             <!-- Profile Cards -->
    <div class="row mt-4">
        {% for profile_view in profile_views %}
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="prof-card">
                {% if profile_view.viewed_user.profile_pic %}
                                <img src="{{ profile_view.viewed_user.profile_pic.url }}" alt="{{ profile_view.viewed_user.username }}">
                            {% else %}
                                <img src="{% static 'images/default-profile-pic.jpg' %}" alt="{{ profile_view.viewed_user.username }}">
                            {% endif %}
                <div class="gradient-overlay"></div>
                <div class="prof-info">
                    <div class="prof-name"><p class="name">{{ profile_view.viewed_user.username }}, {{ profile_view.viewed_user.age }}</p>
                        <p>{{ profile_view.viewed_user.location }}</p>
                        <p>{{ profile_view.viewed_at|date:"F j, Y, g:i a" }}</p></div>
                </div>
                <div class="online-badge">Online</div>
                <div class="action-buttons">
                    <button><i class="fas fa-heart"></i></button>
                    <button><i class="fas fa-comment"></i></button>
                    <button><i class="fa-regular fa-eye"></i></button>
                </div>
            </div>
        </div>
        {% empty %}
                <p>You haven't viewed any profiles yet.</p>
                {% endfor %}
    </div>
    </section>
</main>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


{% endblock %}